<p>商品一覧</p>
<div class="search-items">
  <input type="text" [formControl]="searchText" placeholder="名前"/>

  <select class="drop-down" [formControl]="categoriesDropDown">
    <option>すべて</option>
    @for (category of getCategories(); track $index) {
    <option>{{ category.name }}</option>
    }
  </select>

  <button (click)="searchItems()">検索</button>
</div>

<button class="create-button" (click)="createItems()">作成</button>

<table class="table">
  <tr>
    <th>ID</th>
    <th>名前</th>
    <th>カテゴリー</th>
    <th>価格</th>
    <th>在庫数</th>
  </tr>

  @for (item of viewItems.slice(pageIndex * pageSize, (pageIndex + 1) * pageSize); track $index) {
  <tr>
    <td>
      <a [routerLink]="['/items-detail', item.id]">{{ item.id }}</a>
    </td>
    <td>{{ item.name }}</td>
    <td class="category-name">
      <a [routerLink]="['/categories-detail', item.category_id]">{{
        convertCategoryName(item.category_id)
      }}</a>
    </td>
    <td>{{ item.price | currency : 'JPY' : 'symbol' }}</td>
    <td>{{ item.stock }}</td>
  </tr>
  }
</table>

<app-pager [itemCount]="viewItems.length" [(pageIndex)]="pageIndex" [pageSize]="pageSize" />
